---
layout: post
title: "类型判断"
subtitle: ""
date: 2018-09-27 12:00:00
author: "左手喝水"
header-img: "img/post-bg-2015.jpg"
tags:
  - js
---


## 类型判断

### typeof

`typeof`判断基本类型很有效，但是对象具体类型就不太行了;
而且还有一个坑判断`null`的时候为Object

``` js
typeof null // object
typeof []   // object
```

### instanceof操作符

原理是构造函数是否在对象的原型上,所以中间修改了原型就会判断错误

###  toString

`Object.prototype.toString.call`基本可以判断所有内置类型，但是判断自定的类型就不行了，需要借助`Symbol。toStringTag`

```js
Object.prototype.toString.call('foo');     // "[object String]"

// 无法判断自定类型
class ValidatorClass {}
Object.prototype.toString.call(new ValidatorClass()); // "[object Object]"

// 借助symbol.toStringTag
class ValidatorClass {
  get [Symbol.toStringTag]() {
    return "Validator";
  }
}
Object.prototype.toString.call(new ValidatorClass()); // "[object Validator]"
```

参考：
掘金-JavaScript中的类型判断，了解一下？
: <https://juejin.im/post/5b0554c86fb9a07acb3d3ddc>  

MDN-Symbol.toStringTag:<https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag>'
