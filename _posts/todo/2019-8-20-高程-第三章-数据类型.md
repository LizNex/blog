---
layout: post
title: "高程-第三章-基本概念"
subtitle: ""
date: 2018-09-27 12:00:00
author: "左手喝水"
header-img: "img/post-bg-2015.jpg"
tags:
  - js
---

## 高程-第三章-基本概念

## 数据类型

### Number 类型

#### 进制

八进制：0 开头（严格模式下无效）
十六进制：0x 开头

计算的时候输出结果都会转为 16 进制

#### 浮点

小数点后面有数字的都是浮点数，浮点数储存空间是整数的两倍所以一下情况会直接转为整数；

```js
var floatNumber1 = 1; // 1
var floatNumber2 = 10.0; // 10
```

判断的时候不要做浮点判断，容易出错

#### 数值范围

最大数值范围：`Number.MAX_VALUE`  
最小数值范围：`Number.MIN_VALUE`

超过范围则显示正负无穷

#### 数值转换

Number()函数转换规则

- 如果是 Boolean 值，true 和 false 将分别被转换为 1 和 0。
- 如果是数字值，只是简单的传入和返回。
- 如果是 null 值，返回 0。
- 如果是 undefined，返回 NaN。
- 如果是字符串，遵循下列规则:
  - 如果字符串中只包含数字(包括前面带正号或负号的情况)，则将其转换为十进制数值，即"1" 会变成 1，"123"会变成 123，而"011"会变成 11(注意:前导的零被忽略了);
  - 如果字符串中包含有效的浮点格式，如"1.1"，则将其转换为对应的浮点数值(同样，也会忽 略前导零);
  - 如果字符串中包含有效的十六进制格式，例如"0xf"，则将其转换为相同大小的十进制整 数值;
  - 如果字符串是空的(不包含任何字符)，则将其转换为 0;
  - 如果字符串中包含除上述格式之外的字符，则将其转换为 NaN。
  - 如果是对象，则调用对象的 valueOf()方法，然后依照前面的规则转换返回的值。如果转换
    的结果是 NaN，则调用对象的 toString()方法，然后再次依照前面的规则转换返回的字符
    串值。

```js
var num1 = Number("Hello world!"); //NaN
var num2 = Number(""); //0
var num3 = Number("000011"); //11
var num4 = Number(true); //1
```

parseInt()函数转换规则

- 忽略字符串前面的空格
- 第一个非空字符不是数字则返回`NaN`
- 小数会解析整数部分例如`22.5->22`
- 十六、八进制会转换成十进制（ES3、ES5 中有区别，保证转换可以在传递第二个参数指定进制）

```js
var num1 = parseInt("1234blue"); // 1234
var num2 = parseInt(""); // NaN
var num3 = parseInt("0xA"); // 10(十六进制数)
var num4 = parseInt(22.5); // 22
var num5 = parseInt("070"); // 56(八进制数)
var num6 = parseInt("70"); // 70(十进制数)
var num7 = parseInt("0xf"); // 15(十六进制数)
```

parseInt()函数转换规则

- 和 parseInt 相比会忽略前导的 0
- 第二个小数点无效
- 16 进制会被转为 0
- 只能解析十进制

### String 类型

String()于 toString()的区别

- String()可以转换`null undefined`
- 其他类型调用 String()时其实就是调用 toString()方法
- toString 转换数字的时候可以传进制

## 操作符

### 一元操作符

#### 递增递减操作符

- 前置操作符和后置是有区别的，前置会先完成操作符运算再求值；后置则是先求值再操作符运算；
- 除`null undefined`都可以用递增递减操作符，转换规则如下
  - 在应用于一个包含有效数字字符的字符串时，先将其转换为数字值，再执行加减 1 的操作。字符串变量变成数值变量。
  - 在应用于一个不包含有效数字字符的字符串时，将变量的值设置为 NaN(第 4 章将详细讨论)。 字符串变量变成数值变量。
  - 在应用于布尔值 false 时，先将其转换为 0 再执行加减 1 的操作。布尔值变量变成数值变量。
  - 在应用于布尔值 true 时，先将其转换为 1 再执行加减 1 的操作。布尔值变量变成数值变量。
  - 在应用于浮点数值时，执行加减 1 的操作。
  - 在应用于对象时，先调用对象的 valueOf()方法(第 5 章将详细讨论)以取得一个可供操作的
    值。然后对该值应用前述规则。如果结果是 NaN，则在调用 toString()方法后再应用前述规则。如果结果是 NaN，则在调用 toString()方法后再应用前述规对象变量变成数值变量。

#### 位操作符

<!--TODO:-->

#### 布尔操作符

与、或都会返回对应的结果而不是返回布尔值，在 if 中可以直接使用是因为 if 中判断条件会调用`Boolean()`

#### 加/减/乘操作符

乘和减操作符在遇到非数字类型式会调用`Number()`转换，加操作符会调用`toString()`去转换


